## 有向图游戏

在一个 DAG 中，只有一个起点，上面有一个棋子，
两个玩家轮流沿着有向边推动棋子，不能走的玩家判负。

## Nim 博弈

$n$ 堆物品，每堆有 $a_i$ 个，两个玩家轮流任选一堆来取物品，
但不能不取，取走最后一个物品者获胜（不能取的玩家判负）
不难发现 Nim 博弈是由 $n$ 个有向图游戏组成的

> 定理：先手必胜，当且仅当异或和 $\neq 0$

证明可用数学归纳法，从游戏结束开始分析，

每次给对面一个平衡状态（异或和 = 0）

## 公平组合游戏 ICG

两个玩家交替行动
能执行的操作与具体玩家无关
不能行动的玩家判负

## mex 运算与 SG 函数

定义 mex 为，非负整数集合 S 中，最小的不属于集合 S 的非负整数。

对于状态 x，有 k 个后继状态 y

$$SG(x)=mex( { SG(y_1),SG(y_2)…SG(y_k) } )$$

而对于多个有向图游戏，定义有向图游戏的和为，它们 sg(起点) 的异或和

> 定理：有向图游戏的某个局面必胜，当且仅当其对应节点，sg 函数值大于 0（能到达必败终点）

## 参考

http://zory.cf/posts/c7bb.html